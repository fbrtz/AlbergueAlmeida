<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Login - Hostel</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">s
<link rel="stylesheet" href="login.css">
</head>

<body>

    <header class="navbar">
        <div class="logo">Santa Teresa Hostel</div>
        <nav class="nav-links">
        <a href="#">Reserva</a>
        <a href="../sobre_nos/sobre_nos.html">Sobre Nós</a>
        <a href="#">Parceiros</a>
        </nav>
        <div class="icons">
        </div>
    </header>

    <div class="login-container">
        <h2>Entrar</h2>

        <form id="formLogin">
            <label>Email:</label>
            <input type="email" id="email" required>

            <label>Senha:</label>
            <input type="password" id="senha" required>

            <button type="submit">Entrar</button>
            <p>Não possui conta? <a href="../cadastro2/cadastro.html">Crie uma!</a></p>

            <p id="msg" class="msg"></p>
        </form>
    </div>

<script>
document.getElementById("formLogin").addEventListener("submit", function(e){
    e.preventDefault();

    let email = document.getElementById("email").value;
    let senha = document.getElementById("senha").value;

    let xhr = new XMLHttpRequest();
    xhr.open("POST", "login.php", true);
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

    xhr.onload = function(){
        if (this.responseText === "adm"){
            window.location.href = "../lado_admin/admin_main/adm_home.html";
        } 
        else if (this.responseText === "cliente"){
            window.location.href = "../lado_cliente/cliente_home.html";
        }
        else {
            document.getElementById("msg").innerText = this.responseText;
        }
    };

    xhr.send("email=" + email + "&senha=" + senha);
});
</script>

</body>
</html>
